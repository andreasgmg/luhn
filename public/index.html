<!DOCTYPE html>
<html lang="sv">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luhn.se | Svensk Mockdata & Validering</title>
    <link rel="stylesheet" href="style.css">

    <meta name="description"
        content="Sveriges b√§sta testdata-API. Generera giltiga personnummer, organisationsnummer, bankgiro och mer. JSON/XML & SQL-export.">
    <meta property="og:title" content="Luhn.se | Svensk Testdata f√∂r Utvecklare">
    <meta property="og:description"
        content="Slipp skriva seed-script. H√§mta validerad svensk mockdata via API eller ladda ner dataset.">
    <meta property="og:url" content="https://luhn.se">
    <meta name="twitter:card" content="summary_large_image">
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üá∏üá™</text></svg>">
</head>

<body>
    <header>
        <div class="container nav-content">
            <a href="/" class="logo">luhn<span>.se</span></a>
            <div class="nav-links">
                <a href="/docs">Dokumentation</a>
                <a href="#pricing">Priser</a>
                <a href="mailto:hej@luhn.se">Kontakt</a>
                <span
                    style="font-size: 0.8rem; color: #8b949e; border: 1px solid #30363d; padding: 2px 6px; border-radius: 20px; margin-left:15px;">v3.6</span>
            </div>
        </div>
    </header>

    <main class="container">
        <section class="hero">
            <h1>Validerad svensk testdata<br>snabbt, enkelt & p√•litligt</h1>
            <p class="subtitle">Slipp skriva seed-scripts. Testa med realistiska personnummer, f√∂retag och bankdata
                direkt via API eller export.</p>

            <span class="hero-meta">‚ú® Ingen registrering kr√§vs. √ñppet API.</span>

            <div class="hero-btns">
                <button class="action-btn" style="width: auto; padding: 14px 28px; font-size: 1rem;"
                    onclick="document.querySelector('.demo-window').scrollIntoView({behavior: 'smooth'})">‚ö° Testa
                    gratis</button>
                <a href="/docs"><button class="action-btn outline-btn"
                        style="width: auto; padding: 14px 28px; font-size: 1rem;">üìñ Se API-dokumentation</button></a>
            </div>

            <div class="demo-window">
                <div class="window-header">
                    <div class="dots">
                        <div class="dot red"></div>
                        <div class="dot yellow"></div>
                        <div class="dot green"></div>
                    </div>
                    <div class="url-bar">
                        <span id="current-url"><span class="method">GET</span> https://luhn.se/api/person</span>
                        <span class="copy-link" onclick="copyCurl()">[Kopiera cURL]</span>
                    </div>
                </div>
                <div class="window-body">
                    <div class="controls">
                        <div class="control-group">
                            <span class="control-label">Data & Format</span>
                            <select id="resource-select" onchange="updateUrl(); fetchData()"
                                style="margin-bottom: 10px;">
                                <option value="person">Person</option>
                                <option value="company">F√∂retag</option>
                                <option value="finance">Ekonomi / Bank</option>
                                <option value="vehicle">Fordon / Regpl√•t</option>
                                <option value="creditcard">Kreditkort (Test)</option>
                                <option value="imei">IMEI / Mobil</option>
                                <option value="identity">Hel Identitet (Kundresa)</option>
                                <option value="bankid">BankID (Mock Svar)</option>
                            </select>
                            <div style="display: flex; gap: 10px;">
                                <label style="font-size: 0.8rem; color: #8b949e; cursor:pointer;"><input type="radio"
                                        name="format" value="json" checked onchange="updateUrl(); fetchData()">
                                    JSON</label>
                                <label style="font-size: 0.8rem; color: #8b949e; cursor:pointer;"><input type="radio"
                                        name="format" value="xml" onchange="updateUrl(); fetchData()"> XML</label>
                            </div>
                        </div>

                        <div class="control-group" id="scenario-group">
                            <span class="control-label">Scenario Builder</span>
                            <input type="text" id="city-filter" placeholder="Stad (t.ex. Malm√∂)"
                                oninput="updateUrl(); fetchData()" style="margin-bottom: 10px;">
                            <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                                <div style="flex: 1;">
                                    <label
                                        style="display:block; font-size:0.75rem; color:#8b949e; margin-bottom: 3px;">Min
                                        √•lder</label>
                                    <input type="number" id="min-age" placeholder="18" min="0" max="120"
                                        oninput="updateUrl(); fetchData()">
                                </div>
                                <div style="flex: 1;">
                                    <label
                                        style="display:block; font-size:0.75rem; color:#8b949e; margin-bottom: 3px;">Max
                                        √•lder</label>
                                    <input type="number" id="max-age" placeholder="65" min="0" max="120"
                                        oninput="updateUrl(); fetchData()">
                                </div>
                            </div>
                            <div>
                                <label
                                    style="display:block; font-size:0.75rem; color:#8b949e; margin-bottom: 3px;">Andel
                                    ogiltiga PNR (%)</label>
                                <input type="number" id="invalid-rate" placeholder="0" min="0" max="100" value="0"
                                    oninput="updateUrl(); fetchData()">
                            </div>
                        </div>

                        <div class="control-group">
                            <span class="control-label">API Inst√§llningar</span>
                            <select id="status-select" onchange="updateUrl(); fetchData()" style="margin-bottom: 10px;">
                                <option value="">Status: 200 OK</option>
                                <option value="400">400 Bad Request</option>
                                <option value="401">401 Unauthorized</option>
                                <option value="403">403 Forbidden</option>
                                <option value="404">404 Not Found</option>
                                <option value="429">429 Too Many Requests</option>
                                <option value="500">500 Server Error</option>
                            </select>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div style="display: flex; gap: 10px;">
                                    <label style="font-size: 0.8rem; color: #8b949e; cursor:pointer;"><input
                                            type="radio" name="amount" value="1" checked
                                            onchange="updateUrl(); fetchData()"> 1</label>
                                    <label style="font-size: 0.8rem; color: #8b949e; cursor:pointer;"><input
                                            type="radio" name="amount" value="5" onchange="updateUrl(); fetchData()">
                                        5</label>
                                </div>
                                <label style="font-size: 0.8rem; color: #8b949e; cursor:pointer;"><input type="checkbox"
                                        id="delay-check" onchange="updateUrl()"> Lagg</label>
                            </div>
                        </div>
                        <button class="action-btn" onclick="fetchData()">K√∂r Request ‚ñ∂</button>
                    </div>
                    <div class="code-output" onclick="copyOutput()" title="Klicka f√∂r att kopiera">
                        <pre id="json-output"><span style="color: #8b949e;">Laddar data...</span></pre>
                    </div>
                </div>
            </div>
        </section>

        <section class="value-section">
            <div class="value-grid">
                <div class="value-col">
                    <h3>F√∂r vem √§r Luhn.se?</h3>
                    <ul class="value-list">
                        <li>Konsulter som bygger system √•t svenska bolag</li>
                        <li>Produktteam som mockar svenska kunder i staging</li>
                        <li>QA/testare som vill trigga felkoder & edge cases</li>
                        <li>Fintech-appar som vill stress-testa betalfl√∂den</li>
                    </ul>
                </div>
                <div class="value-col">
                    <h3>Spara tid d√§r du normalt...</h3>
                    <ul class="value-list">
                        <li>Sitter med Excel + random user generators</li>
                        <li>Kr√•nglar med egen regex f√∂r personnummer</li>
                        <li>Manuellt skapar "n√§stan riktiga" kunder i test</li>
                        <li>Bygger egna seed-script f√∂r databasen</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="features-section">
            <div class="features">
                <div class="feature-card">
                    <div class="feature-icon">üÜî</div>
                    <div class="feature-title">Validering</div>
                    <div class="feature-desc">Personnummer, OrgNr, IBAN, OCR, Kreditkort och IMEI.</div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üë§</div>
                    <div class="feature-title">Mockdata</div>
                    <div class="feature-desc">Realistiska profiler med svenska adresser, fordon och bankdata.</div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üì¶</div>
                    <div class="feature-title">Export</div>
                    <div class="feature-desc">Ladda ner tusentals rader som JSON, CSV eller SQL-inserts.</div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üè¢</div>
                    <div class="feature-title">Enterprise</div>
                    <div class="feature-desc">Self-hosted Docker, SLA och full compliance f√∂r banker.</div>
                </div>
            </div>
        </section>

        <section class="pricing-section" id="pricing">
            <div style="text-align: center; margin-bottom: 40px;">
                <h2 style="font-size: 2.5rem; margin-bottom: 10px;">Enkel priss√§ttning</h2>
                <p style="color: #8b949e;">B√∂rja gratis. Betala bara n√§r du beh√∂ver spara tid med automation.</p>
                <div class="pricing-toggle-container">
                    <span class="toggle-label">M√•nadsvis</span>
                    <label class="switch"><input type="checkbox" id="billing-toggle" onchange="togglePricing()"
                            checked><span class="slider round"></span></label>
                    <span class="toggle-label">√Örsvis <span class="save-badge">Spara 20%</span></span>
                </div>
            </div>

            <div class="pricing-grid" style="max-width: 900px; margin: 0 auto;">

                <div class="pricing-card">
                    <h3 class="plan-name">Hobby</h3>
                    <div class="plan-price">0 kr <span class="period">/m√•n</span></div>
                    <p class="plan-desc">F√∂r manuell testning.</p>
                    <button class="action-btn outline-btn"
                        onclick="document.querySelector('.demo-window').scrollIntoView({behavior: 'smooth'})">Testa
                        nu</button>
                    <ul class="feature-list">
                        <li>‚úÖ 100 anrop / 15 min</li>
                        <li>‚úÖ Alla generatorer</li>
                        <li>‚úÖ Validator</li>
                        <li class="dimmed">‚ùå XML-format</li>
                        <li class="dimmed">‚ùå Bulk Export (SQL/CSV)</li>
                        <li class="dimmed">‚ùå Data Maskning API</li>
                    </ul>
                </div>

                <div class="pricing-card popular">
                    <div class="popular-badge">Mest v√§rde</div>
                    <h3 class="plan-name">Pro</h3>
                    <div class="plan-price" data-monthly="49 kr" data-yearly="39 kr">49 kr <span
                            class="period">/m√•n</span></div>
                    <p class="plan-desc">F√∂r utvecklare & automation.</p>
                    <button class="action-btn" style="background: var(--accent); color: white;"
                        onclick="showPremiumModal()">V√§lj Pro</button>
                    <ul class="feature-list">
                        <li>‚úÖ <strong>2 000</strong> anrop / 15 min</li>
                        <li>‚úÖ <strong>Bulk Export</strong> (10 st / timme)</li>
                        <li>‚úÖ <strong>XML-format</strong> (Bank)</li>
                        <li>‚úÖ <strong>Data Maskning API</strong></li>
                        <li>‚úÖ Seed & Determinism</li>
                    </ul>
                </div>

                <div class="pricing-card">
                    <h3 class="plan-name">Team</h3>
                    <div class="plan-price" data-monthly="149 kr" data-yearly="119 kr">149 kr <span
                            class="period">/m√•n</span></div>
                    <p class="plan-desc">F√∂r st√∂rre volymer.</p>
                    <button class="action-btn outline-btn" onclick="showPremiumModal()">V√§lj Team</button>
                    <ul class="feature-list">
                        <li>‚úÖ <strong>10 000</strong> anrop / 15 min</li>
                        <li>‚úÖ Allt i Pro</li>
                        <li>‚úÖ Fakturabetalning</li>
                        <li>‚úÖ Prioriterad support</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="bulk-section">
            <h2 style="margin-bottom: 10px;">Mass-export üì¶</h2>
            <p style="color: #8b949e;">Ladda ner f√§rdiga datasets f√∂r seeding.</p>
            <div class="bulk-container">
                <div class="bulk-card">
                    <div class="bulk-icon">üìÑ</div>
                    <div class="bulk-title">Starter Pack</div>
                    <div class="bulk-desc">100 rader data. JSON, CSV eller SQL.</div>
                    <select id="bulk-type-1" style="margin-bottom:10px;">
                        <option value="person">Personer</option>
                        <option value="company">F√∂retag</option>
                    </select>
                    <select id="bulk-format-1" style="margin-bottom:15px;">
                        <option value="json">JSON</option>
                        <option value="csv">CSV</option>
                        <option value="sql">SQL</option>
                    </select>
                    <button class="action-btn" onclick="downloadBulk(100)">Ladda ner (Gratis)</button>
                </div>
                <div class="bulk-card" style="border-color: var(--purple);">
                    <div class="badge">PRO</div>
                    <div class="bulk-icon">üóÑÔ∏è</div>
                    <div class="bulk-title">Big Data</div>
                    <div class="bulk-desc">10 000+ rader. F√∂r prestandatester och staging.</div>
                    <div style="height: 95px; display:flex; align-items:center; color: #555; font-size: 0.9rem;">
                        <i>Format: SQL / CSV</i>
                    </div>
                    <button class="action-btn" style="background: var(--purple); color:black;"
                        onclick="showPremiumModal()">K√∂p (49 kr)</button>
                </div>
            </div>
        </section>

        <section class="validator-section">
            <h2 style="margin-bottom: 10px;">Luhn-validatorn üßÆ</h2>
            <p style="color: #8b949e; margin-bottom: 30px;">Validera Personnr, OrgNr, IBAN, OCR, Kreditkort, IMEI.</p>
            <div class="validator-box">
                <input type="text" id="validator-input" class="validator-input" placeholder="Klistra in nummer..."
                    oninput="checkLuhn()">
                <button class="action-btn" style="width: auto; margin:0;" onclick="checkLuhn()">Validera</button>
            </div>
            <div id="validator-result" class="valid-result"></div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div>
                    <p>&copy; 2025 Luhn.se</p>
                    <p style="font-size: 0.7rem; color: #444;">Alla kreditkortsnummer √§r fiktiva testnummer (Test BINs).
                    </p>
                </div>
                <div class="footer-links"><a href="/docs">API Docs</a><a href="/terms">Villkor</a><a
                        href="mailto:hej@luhn.se">Support</a></div>
            </div>
        </div>
    </footer>

    <div class="modal-overlay" id="premium-modal">
        <div class="modal" id="modal-content">
            <div style="font-size: 3rem; margin-bottom: 10px;">üöß</div>
            <h3>Snart tillg√§ngligt!</h3>
            <p>Vi lanserar Pro-funktionerna inom kort. L√§mna din mail f√∂r 50% rabatt vid start.</p>
            <div style="margin-top: 20px;"><input type="email" id="lead-email" placeholder="din@email.se"
                    style="width: 100%; padding: 12px; border: 1px solid #30363d; border-radius: 6px; background: #0d1117; color: white; margin-bottom: 10px;"><button
                    class="action-btn" onclick="submitLead()" style="background: var(--purple); color: black;">H√•ll mig
                    uppdaterad</button></div>
            <button class="close-text-btn" onclick="closePremiumModal()">Nej tack, st√§ng</button>
        </div>
    </div>

    <div id="toast" class="toast">Kopierat till urklipp! üìã</div>

    <script>
        let generatedUrl = "";
        function updateUrl() {
            const resource = document.getElementById('resource-select').value;
            const amount = document.querySelector('input[name="amount"]:checked').value;
            const format = document.querySelector('input[name="format"]:checked').value;
            const status = document.getElementById('status-select').value;
            const useDelay = document.getElementById('delay-check').checked;

            // Scenario Values
            const city = document.getElementById('city-filter').value;
            const minAge = document.getElementById('min-age').value;
            const maxAge = document.getElementById('max-age').value;
            const invalidRate = document.getElementById('invalid-rate').value;

            // Show/Hide Scenario Controls
            const supportsScenario = resource === 'person' || resource === 'identity';
            const scenarioGroup = document.getElementById('scenario-group');
            if (scenarioGroup) scenarioGroup.style.display = supportsScenario ? 'block' : 'none';

            let params = [];
            if (amount > 1) params.push(`amount=${amount}`);
            if (format === 'xml') params.push(`format=xml`);
            if (status) params.push(`status=${status}`);
            if (useDelay) params.push(`delay=2000`);

            if (supportsScenario) {
                if (city) params.push(`city=${encodeURIComponent(city)}`);
                if (minAge) params.push(`minAge=${minAge}`);
                if (maxAge) params.push(`maxAge=${maxAge}`);
                if (invalidRate > 0) params.push(`invalidRate=${invalidRate}`);
            }

            let queryString = params.length > 0 ? `?${params.join('&')}` : '';
            generatedUrl = `https://luhn.se/api/${resource}${queryString}`;
            document.getElementById('current-url').innerHTML = `<span class="method">GET</span> ${generatedUrl}`;
        }

        async function fetchData() {
            const output = document.getElementById('json-output');
            const btn = document.querySelector('.demo-window .action-btn');
            let relativeUrl = generatedUrl.replace('https://luhn.se', '');
            output.innerHTML = '<span style="color: #8b949e;">Laddar data...</span>';
            btn.innerText = "V√§nta...";
            btn.disabled = true;
            try {
                const response = await fetch(relativeUrl);
                const text = await response.text();
                if (relativeUrl.includes('format=xml')) { output.innerText = text; }
                else { try { const json = JSON.parse(text); output.innerHTML = syntaxHighlight(JSON.stringify(json, null, 2)); } catch (e) { output.innerText = text; } }
                output.style.border = !response.ok ? "1px solid #ff5f56" : "none";
            } catch (error) { output.innerHTML = '<span style="color: #ff5f56;">N√§tverksfel.</span>'; }
            btn.innerText = "K√∂r Request ‚ñ∂"; btn.disabled = false;
        }

        function copyOutput() { const text = document.getElementById('json-output').innerText; if (!text || text.includes("Laddar data...")) return; navigator.clipboard.writeText(text).then(() => showToast("Kopierat till urklipp! üìã")).catch(err => console.error(err)); }
        function copyCurl() { const curl = `curl "${generatedUrl}"`; navigator.clipboard.writeText(curl).then(() => showToast("cURL kopierad! üíª")); }
        function showToast(msg) { const toast = document.getElementById('toast'); toast.innerText = msg; toast.classList.add('show'); setTimeout(() => toast.classList.remove('show'), 2500); }
        async function downloadBulk(amount) { const type = document.getElementById('bulk-type-1').value; const format = document.getElementById('bulk-format-1').value; const response = await fetch(`/api/${type}?amount=${amount}`); const data = await response.json(); let content = "", mimeType = "application/json", extension = "json"; if (format === 'json') { content = JSON.stringify(data, null, 2); } else if (format === 'csv') { mimeType = "text/csv"; extension = "csv"; const headers = Object.keys(data[0]); const rows = data.map(obj => headers.map(header => { const val = obj[header]; return typeof val === 'object' ? JSON.stringify(val).replace(/,/g, ';') : val; }).join(',')); content = [headers.join(','), ...rows].join('\n'); } else if (format === 'sql') { mimeType = "application/sql"; extension = "sql"; const table = type === 'person' ? 'users' : 'companies'; content = data.map(obj => { const vals = Object.values(obj).map(v => typeof v === 'string' ? `'${v}'` : (typeof v === 'object' ? `'${JSON.stringify(v)}'` : v)).join(', '); return `INSERT INTO ${table} VALUES (${vals});`; }).join('\n'); } const blob = new Blob([content], { type: mimeType }); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = `luhn_${type}_${amount}.${extension}`; document.body.appendChild(a); a.click(); document.body.removeChild(a); }
        function showPremiumModal() { document.getElementById('premium-modal').style.display = 'flex'; }
        function closePremiumModal() { document.getElementById('premium-modal').style.display = 'none'; }
        async function submitLead() { const email = document.getElementById('lead-email').value; const modalContent = document.getElementById('modal-content'); if (!email.includes('@')) { alert("Fyll i en giltig e-post!"); return; } const btn = document.querySelector('#modal-content .action-btn'); btn.innerText = "Skickar..."; try { await fetch('/api/subscribe', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ email: email }) }); modalContent.innerHTML = `<div style="font-size: 3rem; margin-bottom: 10px;">üéâ</div><h3>Tack!</h3><p>Vi har noterat ditt intresse.</p><button class="action-btn" onclick="closePremiumModal()">St√§ng</button>`; } catch (e) { alert("N√•got gick fel."); btn.innerText = "H√•ll mig uppdaterad"; } }
        let debounceTimer; async function checkLuhn() { const input = document.getElementById('validator-input').value; const resultBox = document.getElementById('validator-result'); if (!input) { resultBox.innerHTML = ""; return; } clearTimeout(debounceTimer); resultBox.innerHTML = '<span style="color: #8b949e;">...</span>'; debounceTimer = setTimeout(async () => { try { const response = await fetch(`/api/validate/${encodeURIComponent(input)}`); const data = await response.json(); if (data.isValid) { resultBox.innerHTML = `<span class="is-valid">‚úÖ Giltig! &nbsp;<span style="color: #fff; background: #238636; padding: 2px 8px; border-radius: 12px; font-size: 0.8rem; vertical-align: middle;">${data.type}</span></span>`; } else { resultBox.innerHTML = `<span class="is-invalid">‚ùå Ogiltig. <span style="font-size: 0.8rem; color: #8b949e;">(Kunde inte validera som ${data.type})</span></span>`; } } catch (e) { resultBox.innerHTML = `<span class="is-invalid">Fel vid validering.</span>`; } }, 300); }
        function togglePricing() { const isYearly = document.getElementById('billing-toggle').checked; const prices = document.querySelectorAll('.plan-price'); prices.forEach(price => { const monthly = price.getAttribute('data-monthly'); const yearly = price.getAttribute('data-yearly'); if (monthly && yearly) { price.innerHTML = `${isYearly ? yearly : monthly} <span class="period">/m√•n</span>`; } }); }
        function syntaxHighlight(json) { json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;'); return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g, function (match) { var cls = 'number'; if (/^"/.test(match)) { if (/:$/.test(match)) { cls = 'key'; } else { cls = 'string'; } } else if (/true|false/.test(match)) { cls = 'boolean'; } else if (/null/.test(match)) { cls = 'null'; } return '<span class="' + cls + '">' + match + '</span>'; }); }

        updateUrl(); fetchData(); togglePricing();
    </script>
</body>

</html>